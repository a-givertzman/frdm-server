# Износ грузового каната

## Описание алгоритма проверки долговечности грузового каната

Долговечность грузового каната зависит от множества факторов, но основным из них является **изгиб каната на блоках**. 

Некоторые комментарии:
- Чем больше диаметр блока, тем больше радиус изгиба каната и меньше повреждений каната. 
- Также стоит избегать схем запасовки каната, когда канат испытывает знакопеременный изгиб на блоках. 
- Необходимо учитывать, что долговечность каната зависит от того какое натяжение в канате, чем выше натяжение, тем быстрее канат выйдет из строя.


### Исходные данные:

**1. Геометрия системы:**

- Положение всех блоков (полиспаста) и барабана в пространстве (x, y, z координаты);
- Диаметры всех блоков и барабана (*D_block[i], D_drum*).

**2. Характерные точки каната:**

Определяем координаты «характерных точек». 
- Характерными точками являются точки входа и схода каната с блоков и барабана
- между парами этих точек канат находится в изогнутом состоянии 

**3. Длина каната:**

- Суммируется из:

    - Прямолинейных отрезков между блоками;
    - Изогнутые участки каната на каждом блоке;
    - Длину каната на барабане, на каждом слое укладки каната на барабане в зависимости от высоты подъёма

- Длина на каждом участке каната должна быть известна.

**4. Измеряемые параметры с датчиков:**

- Текущая длина выданного каната (в метрах), получаем из датчика *H(t)*;
- Угол наклона стрелы (*θ(t)*); (используется для определения координат блоков)
- Угол наклона хобота - ТОЖЕ НАВЕРНОЕ НУЖНО УЧЕСТЬ ХОТЯ БЫ В БУДУЩЕМ
- Сила натяжения каната (*T(t)* — данные с тензодатчика).

## Алгоритм расчета 

**1. Дискретизация каната:**

- Общая длина каната L
- Шаг дискретизации Δx (например, 0.1 м)

*Шаг дискретизации будет зависеть от модели, её размеров, то есть от диаметров блоков и общей длины каната и например режима работы. (Например, компенсация качки с амплитудой 0,5м или 10 м, в первом случае нам нужна более мелкая дискретизация)* 

- Количество точек: N = L / Δx (Наверное нужно поясняющий эскиз)

То есть получаем массив точек по длине от 0 до L c шагом Δx:

$$points = [x0, x1, x2, ..., xN]$$ 

**2. Определение массива участков изгиба**

bending_zones = [(a1, b1, D1), (a2, b2, D2), ...]

- где **a1 и b1** - координаты начала и конца зоны изгиба (вдоль каната),
- **D1** - диаметр блока в этой зоне.

⚠️*Все координаты (xi, a1, b1) считаются вдоль каната от точки крепления на барабане — в метрах.*

**3. Фильтрация активных точек**

Для каждой точки каната проверяем, участвует ли она в работе — то есть вышла ли она из барабана. Это определяется сравнением координаты точки с текущей высотой подъёма H(t) получаемой с датчика. Если координата точки меньше или равна H(t), значит точка выдана и находится в работе.

$$  xi <= H(t)$$

- $x_{i} <= H(t)$ — точка реально участвует в работе (она не на барабане).
участвует в анализе
- $x_{i} > H(t)$ — тогда точка i находится на барабане и исключается из анализа.
- В будущем наверное надо добавить какое-то количество витков на барабане, так как канат в этом месте испытывает натяжение и изгиб имеется

**4. Проверка на bending zone**

Далее, для активных точек проверяем, находятся ли они в зоне изгиба — то есть между двумя характерными точками, которые определяют вход и выход каната на конкретном блоке. Эти участки задаются заранее, исходя из геометрии полиспаста и размеров блоков.

$$a <= xi <= b$$

Это значит, что точка физически находится в зоне изгиба на блоке (между входом и выходом).

**5. Прибавляем износ за перегиб:**

   $$bends[i] += T / D$$

Если точка находится в таком участке, значит она претерпевает изгиб на этом блоке, и ей добавляется "износ" или счётчик перегибов. Величина этого износа пропорциональна текущему натяжению каната и обратно пропорциональна диаметру блока.

Таким образом, проходя по всем точкам, мы суммируем количество и степень перегибов для каждой точки, учитывая её положение на канате, текущую высоту подъёма и параметры блоков.


### Что делаем с этими данными?

- В массиве *bends[i]* мы накапливаем износ для каждой точки каната с течением времени.

- После каждой итерации пересчитываем этот массив.

- ** !!! Сравниваем вычисленный износ с ресурсом **

- Визуализировать график износа: x = points, y = bends.


# Учет нагрузки 
Так как в алгоритме расчёта фигурирует натяжение каната T, важно уточнить, что оно не является постоянным во времени.
Натяжение зависит от множества факторов — таких как нагрузка, режим работы, движение груза, а также внешние воздействия (например, качка).

**Причины изменения натяжения каната:**

**1. Изменение веса груза**
- Когда поднимается или опускается груз, натяжение изменяется.
- Если груз раскачивается, возникают колебания нагрузки.

**2. Изменение угла наклона стрелы / хобота**
- При изменении геометрии полиспаста меняется распределение сил.
- Особенно важно для кранов и подъемных машин с переменной стрелой.

**3. Участки полиспаста**
- Натяжение не одинаково на разных ветвях каната:
- Первая ветвь (от барабана) — самая нагруженная.
- Последние ветви могут быть нагружены значительно меньше, особенно в многократной запасовке.
- Перед блоками возникает частичный перераспределение натяжения из-за трения.

**4. Динамика работы**

- Разгон, торможение, ветер, качка → всё это создаёт переменную нагрузку.

**5. Трение на блоках**
- Частично гасит натяжение при передаче на следующий участок.

Таким образом, все эти влияния уже заложены в значение натяжения каната T(t), получаемое с тензодатчика. Это значит, что в алгоритме износ рассчитывается с учётом текущей нагрузки и условий работы — через актуальное значение T.

# Пример 
 Исходные данные:
- Канат длиной 20 м, шаг анализа — 1 м
→ точки: x = 0, 1, 2, ..., 20
- Зона изгиба: от 5 до 7 м (включительно), диаметр блока D = 0.5 м
- Данные с тензодатчика и датчика длины (временные шаги):

| Время (сек) | Натяжение T (Н) | H (м) — длина выданного каната |
| ----------- | --------------- | ------------------------------ |
| 0           | 10000           | 12                             |
| 1           | 8000            | 14                             |
| 2           | 12000           | 10                             |

**Шаг 1: t = 0**
-
- T = 10000 Н
- H = 12 → участвуют точки от 0 до 12
- Зона изгиба: x = 5, 6, 7 → все попадают под H = 12

Для каждой из них:

$$износ = T/D = 10000/0.5 = 20000$$

→ накопим:

x = 5: +20000  
x = 6: +20000  
x = 7: +20000

**Шаг 2: t = 1**
-
- T = 8000 Н
- H = 14 → участвуют точки от 0 до 14
- x = 5, 6, 7 — снова в зоне изгиба и активны

$$Износ =  T/D = 8000/0.5 = 16000$$

→ накопим:

x = 5: +16000  
x = 6: +16000  
x = 7: +16000

**Шаг 3: t = 2**
-
- T = 12000 Н
- H = 10 → участвуют точки 0..10
- x = 5, 6, 7 — снова активны

$$Износ =  T/D = 12000/0.5=24000$$

→ накопим:  
x = 5: +24000  
x = 6: +24000  
x = 7: +24000  

Итоговый результат по участкам:
-
| x (м) | Итоговый износ                    |
| ----- | --------------------------------- |
| 0–4   | 0                                 |
| **5** | 20000 + 16000 + 24000 = **60000** |
| **6** | 60000                             |
| **7** | 60000                             |
| 8–20  | 0                                 |

- Износ копится только на участках, где есть изгиб И где канат активен (выдан с барабана).
- Он зависит от силы натяжения на каждом шаге, т.е. от времени.

Чтобы понимать, когда канат подлежит замене, нужно сравнивать накопленный износ с допустимым (предельным) ресурсом каната. Ниже обьясню подробн. 

# С чем можно сравнить ? 

## 1. По документации / паспорту каната (если есть)
## 2. Рассчитав по эмпирическое формуле 

Формула Фейрера для расчёта срока службы каната при изгибах
Формула Фейрера выглядит следующим образом:

