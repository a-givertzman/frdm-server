# Износ грузового каната

## Описание алгоритма проверки долговечности грузового каната

Долговечность грузового каната зависит от множества факторов, но основным из них является **изгиб каната на блоках**. 

Некоторые комментарии:
- Чем больше диаметр блока, тем больше радиус изгиба каната и меньше повреждений каната. 
- Также стоит избегать схем запасовки каната, когда канат испытывает знакопеременный изгиб на блоках. 
- Необходимо учитывать, что долговечность каната зависит от того какое натяжение в канате, чем выше натяжение, тем быстрее канат выйдет из строя.


### Исходные данные:

**1. Геометрия системы:**

- Положение всех блоков (полиспаста) и барабана в пространстве (x, y, z координаты);
- Диаметры всех блоков и барабана (*D_block[i], D_drum*).

**2. Характерные точки каната:**

Определяем координаты «характерных точек». 
- Характерными точками являются точки входа и схода каната с блоков и барабана
- между парами этих точек канат находится в изогнутом состоянии 

**3. Длина каната:**

- Суммируется из:

    - Прямолинейных отрезков между блоками;
    - Изогнутые участки каната на каждом блоке;
    - Длину каната на барабане, на каждом слое укладки каната на барабане в зависимости от высоты подъёма

- Длина на каждом участке каната должна быть известна.

**4. Измеряемые параметры с датчиков:**

- Текущая длина выданного каната (в метрах), получаем из датчика *H(t)*;
- Угол наклона стрелы (*θ(t)*); (ПОКА НЕ ЗНАЮ ГДЕ ИСПОЛЬЗОВАТЬ)
- Угол наклона хобота - ТОЖЕ НАВЕРНОЕ НУЖНО УЧЕСТЬ ХОТЯ БЫ В БУДУЩЕМ
- Сила натяжения каната (*T(t)* — данные с тензодатчика).

## Алгоритм расчета 

**1. Дискретизация каната:**

- Общая длина каната L
- Шаг дискретизации Δx (например, 0.1 м)
- Количество точек: N = L / Δx

То есть получаем массив точек по длине от 0 до L c шагом Δx:

$$points = [x0, x1, x2, ..., xN]$$ 

**2. Определение массива участков изгиба**

bending_zones = [(a1, b1, D1), (a2, b2, D2), ...]

- где **a1 и b1** - координаты начала и конца зоны изгиба (вдоль каната),
- **D1** - диаметр блока в этой зоне.

⚠️*Все координаты (xi, a1, b1) считаются вдоль каната от точки крепления на барабане — в метрах.*

**3. Фильтрация активных точек**

Для каждой точки каната проверяем, участвует ли она в работе — то есть вышла ли она из барабана. Это определяется сравнением координаты точки с текущей высотой подъёма H(t) получаемой с датчика. Если координата точки меньше или равна H(t), значит точка выдана и находится в работе.

$$  xi <= H(t)$$

- $x_{i} <= H(t)$ — точка реально участвует в работе (она не на барабане).
участвует в анализе
- $x_{i} > H(t)$ — тогда точка i находится на барабане и исключается из анализа.

**4. Проверка на bending zone**

Далее, для активных точек проверяем, находятся ли они в зоне изгиба — то есть между двумя характерными точками, которые определяют вход и выход каната на конкретном блоке. Эти участки задаются заранее, исходя из геометрии полиспаста и размеров блоков.

$$a <= xi <= b$$

Это значит, что точка физически находится в зоне изгиба на блоке (между входом и выходом).

**5. Прибавляем износ за перегиб:**

   $$bends[i] += T / D$$

Если точка находится в таком участке, значит она претерпевает изгиб на этом блоке, и ей добавляется "износ" или счётчик перегибов. Величина этого износа пропорциональна текущему натяжению каната и обратно пропорциональна диаметру блока.

Таким образом, проходя по всем точкам, мы суммируем количество и степень перегибов для каждой точки, учитывая её положение на канате, текущую высоту подъёма и параметры блоков.


### Что делаем с этими данными?

- В массиве *bends[i]* мы накапливаем износ для каждой точки каната с течением времени.

- После каждой итерации пересчитываем этот массив.

- Визуализировать график износа: x = points, y = bends.
